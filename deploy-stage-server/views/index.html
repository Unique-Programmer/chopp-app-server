<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Deploy Panel</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
      }
      h2 {
        margin-bottom: 1rem;
      }
      form,
      .actions {
        margin-bottom: 2rem;
      }
      label {
        font-weight: bold;
      }
      input[type='text'] {
        width: 300px;
        padding: 0.4rem;
        margin-top: 0.2rem;
      }
      button {
        margin-top: 1rem;
        padding: 0.5rem 1rem;
        font-weight: bold;
        cursor: pointer;
      }
      .actions button {
        display: block;
        margin-bottom: 0.5rem;
      }
    </style>
  </head>
  <body>
    <h2>üöÄ Deploy Panel</h2>
    <form method="POST" action="/deploy">
      <label>Backend –≤–µ—Ç–∫–∞ (main):</label><br />
      <input type="text" name="backend_branch" placeholder="main / dev / feature-xyz" /><br /><br />

      <label>Frontend Client –≤–µ—Ç–∫–∞ (master):</label><br />
      <input type="text" name="client_branch" placeholder="main / dev / feature-xyz" /><br /><br />

      <label>Admin Panel –≤–µ—Ç–∫–∞ (main):</label><br />
      <input type="text" name="admin_branch" placeholder="main / dev / feature-xyz" /><br /><br />

      <button type="submit">üî• –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π</button>
    </form>

    <div class="actions">
      <form method="POST" action="/command">
        <input type="hidden" name="cmd" value="down" />
        <button type="submit">üõë –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å docker-compose (backend) `docker-compose down`</button>
      </form>

      <form method="POST" action="/command">
        <input type="hidden" name="cmd" value="down-volumes" />
        <button type="submit">üßπ –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Ç–æ–º–∞ `docker-compose down --volumes --rmi all`</button>
      </form>

      <form method="POST" action="/command">
        <input type="hidden" name="cmd" value="remove-images" />
        <button type="submit">üóë –£–¥–∞–ª–∏—Ç—å –≤—Å–µ Docker images `docker rmi $(docker images -q)`</button>
      </form>

      <form method="POST" action="/command">
        <input type="hidden" name="cmd" value="staging-up" />
        <button type="submit">
          üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å docker-compose.staging.yml `docker-compose -f docker-compose.production.yml up -d --build`
        </button>
      </form>
    </div>
  </body>
</html>
